#include <LedControl.h>

const int dataPin = 12;  // Пин для передачи данных на светодиодную матрицу
const int clkPin = 11;   // Пин для передачи сигнала тактирования на светодиодную матрицу
const int csPin = 10;    // Пин для выбора активного устройства (Chip Select) на светодиодной матрице
const int numRows = 9;   // Количество строк в матрице
const int numCols = 9;   // Количество столбцов в матрице

LedControl lc = LedControl(dataPin, clkPin, csPin, 1); // Создаем объект для управления матрицей

void setup() {
  // Инициализация матрицы
  lc.shutdown(0, false);       // Включаем матрицу (false - отключить тестовый режим, true - включить)
  lc.setIntensity(0, 8);       // Устанавливаем интенсивность свечения светодиодов (от 0 до 15)
  lc.clearDisplay(0);          // Очищаем матрицу
}

void loop() {
  // Пример: отображение шахматной доски на матрице
  
  // Массив для шахматной доски (1 - светодиод включен, 0 - светодиод выключен)
  int chessboard[numRows][numCols] = {
    {1, 0, 1, 0, 1, 0, 1, 0, 1},
    {0, 1, 0, 1, 0, 1, 0, 1, 0},
    {1, 0, 1, 0, 1, 0, 1, 0, 1},
    {0, 1, 0, 1, 0, 1, 0, 1, 0},
    {1, 0, 1, 0, 1, 0, 1, 0, 1},
    {0, 1, 0, 1, 0, 1, 0, 1, 0},
    {1, 0, 1, 0, 1, 0, 1, 0, 1},
    {0, 1, 0, 1, 0, 1, 0, 1, 0},
    {1, 0, 1, 0, 1, 0, 1, 0, 1},
  };

  // Отображение доски на матрице
  for (int row = 0; row < numRows; row++) {
    for (int col = 0; col < numCols; col++) {
      lc.setLed(0, row, col, chessboard[row][col]);
      delay(50);  // Небольшая задержка для визуализации
    }
  }

  // Задержка перед очисткой матрицы
  delay(2000);

  // Очистка матрицы
  lc.clearDisplay(0);
}
